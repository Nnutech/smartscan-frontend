<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings page</title>

    <link rel="stylesheet" href="styling/header.css">
    <link rel="stylesheet" href="styling/analytics.css">
    <link rel="stylesheet" href="styling/settings.css">

</head>

<body>
    <div class="heading-container">
        <div class="heading-container">
            <div class="logo">
                SmartScan Attend
            </div>
            <header class="heading">
                <div class="heading-left">
                    <nav class="nav">
                        <ul class="nav-list">
                            <li><a class="list-item" href="index.html">Analytics</a></li>
                            <li><a class="list-item" href="attendance.html">Attendance</a></li>
                            <li><a class="list-item" href="manage.html">Manage Students</a></li>
                            <li><a class="list-item active" href="logs.html">Logs</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="heading-right">
                    <div class="col1">
                        <div class="search">
                            <button class="search-button">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"
                                    fill="#6B7280">
                                    <path
                                        d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z" />
                                </svg>
                            </button>
                            <input type="text" placeholder="Search..." id="">
                        </div>
                    </div>
                    <div class="col-subcontainer">
                        <div class="col2">
                            <div class="col-container notification-container">
                                <img src="icons/notification.svg" alt="Notifications" id="notificationIcon">
                                <span id="notificationBadge" class="badge" style="display: none;">0</span>
                                <div id="notificationPanel" class="notification-panel" style="display: none;">
                                    <div class="panel-header">
                                        <h3>Notifications</h3>
                                        <a href="#" id="markAsReadBtn">Mark all as read</a>
                                    </div>
                                    <ul id="notificationList">
                                        <!-- Notifications will be added here by JavaScript -->
                                        <li>No new notifications.</li>
                                    </ul>
                                </div>
                                <p>Notifications</p>
                            </div>
                        </div>

                        <div class="col2 hamburger-menu">
                            <a href="notification.html" class="notification-menu-link">
                                <div class="col-container notification-container">
                                    <img src="icons/notification.svg" alt="Notifications" id="notificationIcon">
                                    <span id="notificationBadge" class="badge" style="display: none;">0</span>
                                    <p>Notifications</p>
                                </div>
                            </a>
                        </div>
                        <div class="col3">
                            <div class="col-container">
                                <img src="icons/settings.svg" alt="">
                                <p>
                                    settings
                                </p>
                            </div>
                        </div>
                        <div class="col4">
                            <div class="col-container">
                                <a href="settings.html" class="logged-user">
                                    <div class="heading-user-img">
                                        <img src="images/img1.jpg" alt="">
                                    </div>
                                    <p class="heading-user-name">
                                        Prof Leonard
                                    </p>
                                </a>
                                <img class="chevron-right" src="icons/chevron-right.svg" alt="">
                            </div>
                        </div>
                    </div>
                </div>

                <img src="icons/close.svg" id="closeBtn" class="menu-close" alt="">
            </header>

            <img src="icons/menu.svg" class="menu-button" id="menuBtn" alt="">
        </div>
    </div>

    <!-- MAIN SETTINGS PAGE CONTENT -->
    <div class="settings-container">
        <h1 class="settings-main-title">Admin Settings</h1>
        <div class="settings-layout">
            <aside class="settings-sidebar">
                <nav>
                    <ul>
                        <li><a href="#" class="sidebar-link current" data-target="profile">My Profile</a></li>
                        <li><a href="#" class="sidebar-link" data-target="users">User Management</a></li>
                        <li><a href="#" class="sidebar-link" data-target="security">Security & Access</a></li>
                        <li><a href="#" class="sidebar-link" data-target="device">Device Management</a></li>
                        <li><a href="#" class="sidebar-link" data-target="data">Data & Export</a></li>
                        <li><a href="#" class="sidebar-link delete" data-target="delete">Delete Account</a></li>
                    </ul>
                </nav>
            </aside>

            <main class="settings-content-wrapper">
                <!-- View 1: My Profile -->
                <div id="profile" class="settings-pane current">
                    <div class="pane-header">
                        <h2>My Profile</h2>
                        <button id="openEditModalBtn" class="action-btn">Edit Profile</button>
                    </div>
                    <div class="pane-content">
                        <!-- My Profile Section -->
                        <div class="content-section">
                            <div class="profile-info">
                                <div class="profile-avatar">
                                    <img src="images/img1.jpg" alt="User Avatar">
                                </div>
                                <div class="profile-details">
                                    <p class="profile-name">Prof Agbonze Leonard</p>
                                    <p class="profile-role">System Administrator (Level 2)</p>
                                    <p class="profile-location">Uniben, Nigeria</p>
                                </div>
                            </div>
                        </div>
                        <!-- Personal Information Section -->
                        <div class="content-section">
                            <h3 class="section-title">Personal Information</h3>
                            <div class="info-grid">
                                <div class="info-item"><label>First Name</label>
                                    <p>Agbonze</p>
                                </div>
                                <div class="info-item"><label>Last Name</label>
                                    <p>Leonard</p>
                                </div>
                                <div class="info-item"><label>Email address</label>
                                    <p>leonardexample@gmail.com</p>
                                </div>
                                <div class="info-item"><label>Phone</label>
                                    <p>+09 345 346 46</p>
                                </div>
                                <div class="info-item full-width"><label>Bio</label>
                                    <p>System Administrator and Head of Mechatronics Department.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- View 2: User Management -->
                <div id="users" class="settings-pane">
                    <div class="pane-header">
                        <h2>User Management</h2>
                        <div class="header-actions">
                            <input type="text" id="userSearchInput" class="search-input" placeholder="Search users...">
                            <button id="addUserBtn" class="action-btn">Add User</button>
                        </div>
                    </div>
                    <div class="pane-content no-padding">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Status</th>
                                    <th>Access Level</th>
                                    <th>Last Login</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- Users will be loaded here by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- View 3: Security & Access -->
                <div id="security" class="settings-pane">
                    <div class="pane-header">
                        <h2>Security & Access</h2>
                    </div>
                    <div class="pane-content">
                        <div class="content-section">
                            <h3 class="section-title">Two-Factor Authentication (2FA)</h3>
                            <div class="setting-item">
                                <div>
                                    <p class="setting-name">Enable 2FA for all Level 2 Admins</p>
                                    <p class="setting-description">Adds an extra layer of security to administrator
                                        accounts.</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="twoFactorToggle" checked>
                                    <span class="slider round"></span>
                                </label>
                            </div>
                        </div>
                        <div class="content-section">
                            <h3 class="section-title">Recent Access Logs</h3>
                            <table class="data-table simple">
                                <tbody id="accessLogsTableBody">
                                    <!-- Access logs will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- View 4: Device Management -->
                <div id="device" class="settings-pane">
                    <div class="pane-header">
                        <h2>Device Management</h2>
                    </div>
                    <div class="pane-content no-padding">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Device Name</th>
                                    <th>Status</th>
                                    <th>Last Sync</th>
                                    <th>Firmware Version</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="devicesTableBody">
                                <!-- Devices will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- View 5: Data & Export -->
                <div id="data" class="settings-pane">
                    <div class="pane-header">
                        <h2>Data & Export</h2>
                    </div>
                    <div class="pane-content">
                        <div class="content-section">
                            <h3 class="section-title">Export All Attendance Data</h3>
                            <p class="setting-description">Generate a complete CSV backup of all attendance records in
                                the system.</p>
                            <div class="export-options">
                                <select id="exportPeriodSelect" class="styled-select">
                                    <option value="all">All Time</option>
                                    <option value="yearly">This Year</option>
                                    <option value="monthly">This Month</option>
                                </select>
                                <button id="exportCsvBtn" class="action-btn">Export as CSV</button>
                            </div>
                        </div>
                        <div class="content-section">
                            <h3 class="section-title">System Reset</h3>
                            <p class="setting-description danger-text">Permanently delete ALL attendance records. This
                                cannot be undone.</p>
                            <button id="openResetModalBtn" class="danger-btn">Reset All Attendance Data</button>
                        </div>
                    </div>
                </div>

                <!-- (Delete Account pane remains the same) -->
                <div id="delete" class="settings-pane">
                    <div class="pane-header">
                        <h2>Delete Account</h2>
                    </div>
                    <div class="pane-content">
                        <p class="danger-text">Permanently delete your account and all associated data. This action
                            cannot be undone.</p>
                        <button id="openDeleteModalBtn" class="danger-btn">Delete My Account</button>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- ========= ALL MODALS ========= -->

    <div id="editProfileModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-avatar-header">
                    <img src="images/img1.jpg" alt="User Avatar" class="modal-avatar">
                    <div class="modal-title">
                        <h3>Agbonze Leonard</h3>
                        <p>leonardexample@gmailcom</p>
                    </div>
                </div>
            </div>
            <form class="modal-form">
                <div class="form-row">
                    <div class="form-group"><label for="firstName">Name</label><input type="text" id="firstName"
                            value="Agbonze"></div>
                    <div class="form-group"><label for="lastName">Last Name</label><input type="text" id="lastName"
                            value="Leonard"></div>
                </div>
                <div class="form-group"><label for="email">Email address</label><input type="email" id="email"
                        value="leonardexample@gmail.com"></div>
                <!-- ... other form fields ... -->
                <div class="form-group profile-photo-group">
                    <label>Profile photo</label>
                    <div class="photo-upload">
                        <img src="images/img1.jpg" alt="Current Avatar">
                        <span>Click to replace</span>
                    </div>
                </div>
                <hr class="form-divider">
                <div class="form-footer">
                    <button type="button" class="delete-user-btn">Delete user</button>
                    <div class="footer-actions">
                        <button type="button" class="btn-secondary" id="close-modal" data-close>Cancel</button>
                        <button type="submit" class="btn-primary">Save changes</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- NEW: Add User Modal -->
    <div id="addUserModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <h3>Add New User</h3>
                </div>
            </div>
            <form class="modal-form">
                <div class="form-row">
                    <div class="form-group"><label>First Name</label><input type="text"></div>
                    <div class="form-group"><label>Last Name</label><input type="text"></div>
                </div>
                <div class="form-group"><label>Email address</label><input type="email"></div>
                <div class="form-group"><label>Access Level</label>
                    <select class="styled-select full-width">
                        <option value="1">Level 1 (Lecturer)</option>
                        <option value="2">Level 2 (Admin)</option>
                    </select>
                </div>
                <div class="form-footer">
                    <div></div> <!-- Empty div for spacing -->
                    <div class="footer-actions">
                        <button type="button" class="btn-secondary" data-close>Cancel</button>
                        <button type="submit" class="btn-primary">Create User</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- NEW: Manage Device Modal -->
    <div id="manageDeviceModal" class="modal-overlay">
        <div class="modal-content small">
            <h3 id="manageDeviceName">Main Entrance Scanner</h3>
            <p><strong>Status:</strong> <span class="status-badge current" id="manageDeviceStatus">Online</span></p>
            <p><strong>Firmware:</strong> <span id="manageDeviceFirmware">v1.8</span></p>
            <hr class="form-divider">
            <p class="setting-description">Device Actions</p>
            <div class="footer-actions">
                <button type="button" class="btn-secondary">Reboot Device</button>
                <button type="button" class="btn-primary">Check for Updates</button>
            </div>
        </div>
    </div>

    <!-- NEW: Reset Data Confirmation Modal -->
    <div id="resetDataModal" class="modal-overlay">
        <div class="modal-content small">
            <h3>Reset All Attendance Data?</h3>
            <p class="danger-text">Are you sure? This will permanently delete all attendance logs. This action cannot be
                undone.</p>
            <div class="form-footer">
                <button type="button" class="btn-secondary" data-close>Cancel</button>
                <button type="button" class="danger-btn">Yes, Reset Data</button>
            </div>
        </div>
    </div>

    <!-- ====== Delete Account Modal =======  -->
    <div id="deleteConfirmModal" class="modal-overlay">
        <div class="modal-content small">
            <h3>Confirm Deletion</h3>
            <p>Are you sure you want to permanently delete your account? All of your data will be lost. This action
                cannot be undone.</p>
            <div class="form-footer">
                <button type="button" class="btn-secondary" id="cancelDeleteBtn" data-close>Cancel</button>
                <button type="button" class="danger-btn" id="confirmDeleteBtn" style="margin-top: 0;">Yes, Delete</button>
            </div>
        </div>
    </div>
    <script src="main1.js"></script>
</body>

</html>
